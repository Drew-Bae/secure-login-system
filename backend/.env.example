# ----------------------------
# Core server
# ----------------------------
NODE_ENV=development
PORT=5000

# ----------------------------
# Database
# For local non-docker runs, you can use:
# MONGO_URI=mongodb://localhost:27017/sls
# For docker-compose, we will use mongo service name:
# MONGO_URI=mongodb://mongo:27017/sls
# ----------------------------
MONGO_URI=mongodb://localhost:27017/sls

# ----------------------------
# JWT secrets (REQUIRED)
# Use long random strings in real .env
# ----------------------------
JWT_SECRET=CHANGE_ME_TO_A_LONG_RANDOM_SECRET
PREAUTH_JWT_SECRET=CHANGE_ME_TO_ANOTHER_LONG_RANDOM_SECRET

# ----------------------------
# Frontend origins (CORS)
# Comma-separated allowlist is supported
# ----------------------------
CLIENT_URL=http://localhost:3000
CLIENT_URLS=http://localhost:3000
ALLOW_VERCEL_PREVIEWS=false

# ----------------------------
# Cookies (local dev)
# If you set COOKIE_SECURE=true, you usually also need https + sameSite=none
# ----------------------------
COOKIE_SECURE=false
COOKIE_SAMESITE=lax
# COOKIE_DOMAIN=localhost

# ----------------------------
# Rate limiting / heuristics tuning (optional)
# ----------------------------
LOGIN_RATE_LIMIT_MAX=20
MFA_RATE_LIMIT_MAX=30
LOGIN_EMAIL_IP_MAX=10

# ----------------------------
# MFA encryption key (REQUIRED if using MFA routes)
# Any value is accepted; code hashes it to 32 bytes internally
# ----------------------------
MFA_ENCRYPTION_KEY=CHANGE_ME_TO_A_LONG_RANDOM_SECRET

# ----------------------------
# Email (optional)
# If not set, email sends will no-op and flows still respond safely
# ----------------------------
RESEND_API_KEY=
EMAIL_FROM=

# Seed demo admin on startup (dev only)
SEED_ADMIN=false
SEED_ADMIN_EMAIL=admin@example.com
SEED_ADMIN_PASSWORD=CHANGE_ME
SEED_ADMIN_FORCE_PASSWORD=false
